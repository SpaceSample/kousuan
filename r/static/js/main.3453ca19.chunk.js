(this.webpackJsonpkousuan=this.webpackJsonpkousuan||[]).push([[0],[,,function(e,t,n){e.exports={isCorrect:"question_isCorrect__3pmnd",isWrong:"question_isWrong__2ssu5",index:"question_index__3PcR4",result:"question_result__3IQCY",question:"question_question__2XbRE",keyboard:"question_keyboard__3JERA"}},function(e,t,n){e.exports={app:"App_app__1VlIa",start:"App_start__3CGHP",welcome:"App_welcome__1cuo2",end:"App_end__2Hlrs",info:"App_info__2l2qW"}},,,,,function(e,t,n){e.exports={exam:"exam_exam__2UC2w"}},function(e,t,n){e.exports=n(15)},,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(7),o=n.n(i),c=(n(14),n(1)),u=n(3),l=n.n(u),s=n(4),m=n(5),f=n(2),h=n.n(f),v=function(e,t){if(t===e)return e;var n=1+(t>e?t-e:e-t);return Math.floor(Math.random()*n)+e},E=function(){return v(0,1)>0},b=function(e,t){for(var n=new Array(e),a=0;a<e;a++)n[a]=t(a);return n},p=function(){function e(t,n,a){Object(s.a)(this,e),this.val=a,this.left=t,this.right=n}return Object(m.a)(e,[{key:"toString",value:function(){if("number"===typeof this.val)return this.val.toString();var t=this.left.toString();this.left instanceof e&&this.left.priority<this.priority&&(t="(".concat(t,")"));var n=this.right.toString();return this.right instanceof e&&this.right.priority<this.priority&&(n="(".concat(n,")")),"".concat(t).concat(this.val).concat(n)}},{key:"priority",get:function(){return"number"===typeof this.val?1e4:"\xd7"===this.val||"\xf7"===this.val?2:"+"===this.val||"-"===this.val?1:0}},{key:"result",get:function(){if("number"===typeof this.val)return this.val;var e="number"===typeof this.left?this.left:this.left.result,t="number"===typeof this.right?this.right:this.right.result;return"+"===this.val?e+t:"-"===this.val?e-t:"\xd7"===this.val?e*t:"\xf7"===this.val?e/t:0}}]),e}(),d=function(){function e(t){Object(s.a)(this,e),this.operatorTree=t,this.answer=""}return Object(m.a)(e,[{key:"toString",value:function(){return this.operatorTree.toString()}},{key:"isCorrect",value:function(){return""!==this.answer&&parseInt(this.answer)===this.res}},{key:"res",get:function(){return this.operatorTree.result}}]),e}(),g=function(){for(var e=[],t=0;t<5;t++){var n=v(3,9),a=v(10-n,9),r=E()?new p(n,a,"+"):new p(a,n,"+"),i=new d(r);e.push(i)}e.push(new d(new p(v(0,2),v(0,9),E()?"+":"-")));for(var o=0;o<5;o++){var c=v(3,9),u=v(10-c,9),l=new d(new p(c+u,u,"-"));e.push(l)}e.push(new d(new p(v(0,2),v(10,18),E()?"+":"-")));for(var s=0;s<5;s++){var m=v(3,9),f=v(10-m,9),h=E()?E()?new p(m,f,"+"):new p(f,m,"+"):new p(f+m,m,"-"),b=E()?new p(h,v(0,20-h.result),"+"):new p(h,v(0,h.result),"-"),g=new d(b);e.push(g)}return e.sort((function(e,t){return v(-1,1)})),e},w=function(){for(var e=[],t=0;t<20;t++){var n=v(0,9),a=v(1,9),r=E()?"\xd7":"\xf7";if("\xf7"===r)n=n*a;var i=new d(new p(n,a,r));e.push(i)}return e},k=function(e){if(e<1)throw new Error("Illegal arguments");for(var t=b(e,(function(e){return e})).sort((function(){return v(-1,1)})),n=["+","-","\xd7","\xf7"],a=b(e,(function(){return n[v(0,3)]})),r=b(e+1,(function(){return v(0,9)})),i=function(e){var n=t[e],i=r[n],o=r[n+1],c=new p(i,o,a[n]);r.forEach((function(e,t){"number"!==typeof e&&(e!==i&&e!==o||(r[t]=c))})),r[n]=c,r[n+1]=c},o=0;o<e;o++)i(o);return r[0]},_=function(){for(var e=[],t=0;t<20;t++)for(;;){var n=k(3),a=n.result;if(console.log("==="),a!==1/0&&a!==-1/0&&a===Math.floor(a)){var r=new d(n);e.push(r);break}}return e};function C(e){var t=e.data,n=e.index,i=Object(a.useState)(""),o=Object(c.a)(i,2),u=o[0],l=o[1],s=Object(a.useState)(!0),m=Object(c.a)(s,2),f=m[0],v=m[1];Object(a.useEffect)((function(){l(t.answer)}),[t]);var E=t.toString()+"=",b=function(e){l(e),t.answer=e},p=function(e){"back"===e?u&&b(u.substring(0,u.length-1)):"close"===e?v(!1):b(u+e)};return r.a.createElement("div",null,r.a.createElement("div",{className:h.a.index},"\u7b2c",n+1,"\u9898\uff1a"),r.a.createElement("div",{className:h.a.question},E,r.a.createElement("input",{type:"text",value:u,onChange:function(e){b(e.target.value)}})),f&&r.a.createElement("div",{className:h.a.keyboard},r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return p("1")}},"1"),r.a.createElement("button",{onClick:function(){return p("2")}},"2"),r.a.createElement("button",{onClick:function(){return p("3")}},"3"),r.a.createElement("button",{onClick:function(){return p("back")}},"<=")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return p("4")}},"4"),r.a.createElement("button",{onClick:function(){return p("5")}},"5"),r.a.createElement("button",{onClick:function(){return p("6")}},"6"),r.a.createElement("button",{onClick:function(){return p("-")}},"-")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return p("7")}},"7"),r.a.createElement("button",{onClick:function(){return p("8")}},"8"),r.a.createElement("button",{onClick:function(){return p("9")}},"9"),r.a.createElement("button",{onClick:function(){return p("0")}},"0")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){return p("close")}},"X"))),!f&&r.a.createElement("button",{onClick:function(){return v(!0)}},"\u6570\u5b57\u952e\u76d8"))}function y(e){var t=e.data,n=t.isCorrect();return r.a.createElement("div",{className:h.a.result},r.a.createElement("span",{className:n?h.a.isCorrect:h.a.isWrong},t.toString()+" = "+t.answer),!n&&r.a.createElement("span",null,t.res))}var N=n(8),j=n.n(N);var O=function(e){var t=e.data,n=Object(a.useState)(0),i=Object(c.a)(n,2),o=i[0],u=i[1],l=t[o];return r.a.createElement("div",{className:j.a.exam},r.a.createElement("img",{src:"./hua.png",alt:"hua"}),r.a.createElement(C,{data:l,answer:l.answer,index:o}),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){o>0&&u(o-1)},disabled:o<=0},"\u524d\u4e00\u9898"),r.a.createElement("button",{onClick:function(){o<t.length-1&&u(o+1)},disabled:o>=t.length-1},"\u540e\u4e00\u9898")))},S={INIT:1,PLAYING:2,END:3};var I=function(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],i=t[1],o=Object(a.useState)(0),u=Object(c.a)(o,2),s=u[0],m=u[1],f=Object(a.useState)(0),h=Object(c.a)(f,2),v=h[0],E=h[1],b=Object(a.useState)(S.INIT),p=Object(c.a)(b,2),d=p[0],k=p[1],C=Object(a.useState)([]),N=Object(c.a)(C,2),j=N[0],I=N[1];function x(e){I(function(e){return function(e){if("20+-"===e)return g();if("99*/"===e)return w();if("+-*/"===e)return _();throw new Error("Unknown type")}(e)}(e)),i((new Date).getTime()),k(S.PLAYING)}return r.a.createElement("div",{className:l.a.app},r.a.createElement("header",{className:"App-header"},d===S.INIT&&r.a.createElement("div",{className:l.a.start},r.a.createElement("img",{src:"./hua.png",alt:"hua"}),r.a.createElement("div",{className:l.a.welcome},"\u6b22\u8fce\u53c2\u52a0\u53e3\u7b97\u5927\u6311\u6218\uff01"),r.a.createElement("button",{onClick:function(){return x("20+-")}},"\u4e8c\u5341\u4ee5\u5185\u52a0\u51cf\u6cd5"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return x("99*/")}},"\u4e5d\u4e5d\u4e58\u9664\u6cd5"),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){return x("+-*/")}},"\u56db\u5219\u8fd0\u7b97"),r.a.createElement("div",{className:l.a.info},"\u8c28\u4ee5\u6b64\u7a0b\u5e8f\u5411\u5373\u5fd9\u5de5\u4f5c\u53c8\u5f97\u5b8c\u6210\u8001\u5e08\u5e03\u7f6e\u7684\u4f5c\u4e1a\u7684\u5b9d\u7238\u5b9d\u5988\u4eec\u81f4\u656c\uff01",r.a.createElement("br",null),"\u5982\u6709\u9047\u5230\u95ee\u9898\u6216\u8005\u5efa\u8bae\u8bf7\u70b9",r.a.createElement("a",{href:"https://github.com/SpaceSample/kousuan/issues"},"\u8fd9\u91cc"),"\u3002")),d===S.PLAYING&&r.a.createElement(O,{data:j}),d===S.PLAYING&&r.a.createElement("button",{onClick:function(){m((new Date).getTime());var e=0;j.forEach((function(t){t.answer&&t.isCorrect()&&e++})),E(e),k(S.END)}},"\u4ea4\u5377"),d===S.END&&r.a.createElement("div",{className:l.a.end},r.a.createElement("div",null,"\u7528\u65f6",r.a.createElement("span",null,(s-n)/1e3),"\u79d2"),r.a.createElement("div",null,"\u5171",j.length,"\u9053\u9898\uff0c\u5176\u4e2d",v,"\u9053\u6b63\u786e"),v<j.length/4*3&&r.a.createElement("div",null,"\u7ee7\u7eed\u52aa\u529b\uff01",r.a.createElement("span",{role:"img","aria-label":"come on"},"\ud83d\udcaa\ud83d\udcaa\ud83d\udcaa")),v>=j.length/4*3&&v<j.length&&r.a.createElement("div",null,"\u6210\u7ee9\u4e0d\u9519\u554a\uff01",r.a.createElement("span",{role:"img","aria-label":"smile"},"\ud83d\ude42\ud83d\ude42\ud83d\ude42")),v===j.length&&r.a.createElement("div",null,"\u4f60\u592a\u68d2\u5566\uff0c\u5b8c\u5168\u6b63\u786e",r.a.createElement("span",{role:"img","aria-label":"great"},"\ud83d\udc4d\ud83d\udc4d\ud83d\udc4d")),r.a.createElement("div",null,r.a.createElement("button",{onClick:function(){E(0),k(S.INIT)}},"\u91cd\u65b0\u5f00\u59cb")),r.a.createElement("div",null,j.map((function(e,t){return r.a.createElement(y,{data:e,key:t})}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(I,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[9,1,2]]]);
//# sourceMappingURL=main.3453ca19.chunk.js.map